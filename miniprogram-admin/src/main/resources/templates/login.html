<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>登陆</title>
    <link rel="stylesheet" href="../static/plugins/layui/css/layui.css" th:href="@{/plugins/layui/css/layui.css}"/>
</head>
<body>
<div class="layui-container fly-marginTop">
    <div class="fly-panel fly-panel-user">
        <div class="layui-tab layui-tab-brief">
            <ul class="layui-tab-title">
                <li class="layui-this">登入</li>
                <li><a href="#">注册</a></li>
            </ul>
            <div class="layui-tab-content" style="padding: 20px 0;">
                <div class="layui-tab-item layui-show">
                    <div class="layui-form-pane">
                        <form class="layui-form" method="post">
                            <div class="layui-form-item">
                                <label for="username" class="layui-form-label">用户名</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="username" name="username" lay-verify="required" autocomplete="off" class="layui-input"/>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="password" class="layui-form-label">密码</label>
                                <div class="layui-input-inline">
                                    <input type="password" id="password" name="password" lay-verify="required" autocomplete="off" class="layui-input"/>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label for="vcode" class="layui-form-label">人类验证</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="vcode" name="vcode" lay-verify="required" autocomplete="off" class="layui-input"/>
                                </div>
                                <div class="layui-form-mid"><img src="" /></div>
                            </div>
                            <div class="layui-form-item">
                                <button class="layui-btn" lay-filter="demo2" lay-submit="">立即登录</button>
                                <span style="padding-left:20px;">
                                    <a href="#">忘记密码？</a>
                                </span>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="../static/plugins/layui/layui.js" th:src="@{/plugins/layui/layui.js}" />
<script>
    layui.use(['jquery', 'form', 'layer'], function() {
        var $ = layui.$,
            form = layui.form,
            layer = layui.layer;

        //监听提交
        form.on('submit(demo2)', function(data){
            layer.alert(JSON.stringify(data.field), {
                title: '最终的提交信息'
            });

            return false;

//            var loadIndex = layer.load(2);

//            $.ajax({
//                type: data.form.method,
//                url: data.form.action,
//                data: data.field,
//                dataType: 'json',
//                success: function(res){
//                    //关闭加载动画
//                    loadIndex && layer.close(loadIndex);
//
//                    if(res.code == 0) {
//
//                        layerIndex && layer.close(layerIndex);
//
////                        table.reload('tableReloadDemo', {
////                            where: { name: $('#name').val() }
////                        });
////                                layer.alert(res.msg);
//                    } else {
//
//                        layer.alert(res.msg);
//                    }
//                }
//                ,error: function(e, m){
//                    //关闭加载动画
//                    loadIndex && layer.close(loadIndex);
//
//                    layer.alert('数据接口请求异常')
//                }
//            });
        });
    });
</script>
</body>
</html>